# ğŸš€ v1.0.3 - Corporate Dashboard & Management

**Data:** 11/02/2026
**Codinome:** "The Boss Update"

Esta versÃ£o foca na **GestÃ£o Corporativa**. Agora o sistema nÃ£o Ã© apenas um repositÃ³rio de arquivos, mas uma ferramenta de gestÃ£o multi-empresa com hierarquia clara entre quem manda (Admin) e quem consulta (Cliente).

---

## âœ¨ Novidades (Features)

### ğŸ¢ GestÃ£o de Empresas (Admin)
* **Status Ativo/Bloqueado:** BotÃ£o "Power" na lista de empresas permite bloquear o acesso de um cliente inadimplente instantaneamente.
* **ProntuÃ¡rio da Empresa:** Nova tela com detalhes da empresa, CNPJ e abas de documentos.
* **Controle de Acesso:** UsuÃ¡rios bloqueados recebem erro `403 Forbidden` ao tentar logar.

### ğŸ“‚ Central de Documentos
* **Upload Centralizado:** Nova tela para o Admin enviar arquivos selecionando o cliente numa lista dropdown.
* **Bloqueio de Upload de Cliente:** Clientes nÃ£o podem mais enviar arquivos (apenas visualizar/baixar).
* **ValidaÃ§Ã£o de SeguranÃ§a:** API agora rejeita arquivos que nÃ£o sejam `.pdf`.
* **Downloads Seguros:** Nova rota de download que verifica se o usuÃ¡rio pertence Ã  empresa dona do arquivo.

### ğŸ“Š Dashboards
* **Admin Dashboard:** Cards com total de empresas, documentos e usuÃ¡rios. Lista de uploads recentes em tempo real.
* **Client Dashboard:** VisÃ£o focada no "Meus Documentos" e status da assinatura.

---

## ğŸ› ï¸ MudanÃ§as TÃ©cnicas
* **DependÃªncia `get_current_active_user`:** Adicionada para garantir que usuÃ¡rios banidos nÃ£o acessem rotas protegidas mesmo com token vÃ¡lido.
* **RefatoraÃ§Ã£o de Testes:** Testes unitÃ¡rios atualizados para refletir a proibiÃ§Ã£o de upload por clientes.
* **Frontend:** ImplementaÃ§Ã£o de `StatsCard` reutilizÃ¡vel e tipagem estrita nos Services.

---

## ğŸ› CorreÃ§Ãµes de Bugs
* CorreÃ§Ã£o do loop "Bloquear a si mesmo": Admin agora tem validaÃ§Ã£o visual (embora o backend permita, o fluxo sugere cuidado).
* CorreÃ§Ã£o na listagem de documentos que misturava arquivos de empresas diferentes na visÃ£o do Admin.