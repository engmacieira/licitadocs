# üì¶ Release Notes: v1.0.6 - Cofre Inteligente & Cat√°logo Din√¢mico

**Data:** 19/02/2026
**Sprint de Origem:** [Sprint 17](../Sprints/SPRINT_17_CONCLUSAO.md)
**Respons√°veis:** Matheus e Mark Construtor

---

## üìù Resumo Executivo
Esta vers√£o revoluciona a forma como os documentos s√£o classificados e armazenados na plataforma. Abandonamos a "adivinha√ß√£o" de categorias baseada em nomes de arquivos no Frontend e introduzimos um Cat√°logo Din√¢mico nativo no Banco de Dados. O Cofre Digital agora √© inteligente, prepara o terreno para valida√ß√µes autom√°ticas por rob√¥s (Scrapers) e exibe metadados ricos como C√≥digos de Autentica√ß√£o.

## ‚ú® Changelog (O que mudou?)

### üöÄ Novas Funcionalidades (Feat)
* **[Upload]** O modal de envio agora consome o cat√°logo oficial do banco, oferecendo categorias (ex: Regularidade Fiscal) e tipos espec√≠ficos (ex: CND Federal) com C√≥digos de Autentica√ß√£o.
* **[Cofre Cliente]** As abas do Cofre agora s√£o geradas dinamicamente com base nas configura√ß√µes do banco. Documentos novos recebem a tag especial `INTELIGENTE`.
* **[Busca Turbinada]** O campo de pesquisa agora indexa n√£o apenas o nome do arquivo, mas tamb√©m a categoria, o tipo do documento e o c√≥digo de autentica√ß√£o.

### üêõ Corre√ß√µes de Bugs (Fix)
* **[Upload]** Impedido o envio de "undefined" em campos opcionais no `FormData` para evitar quebras no backend.

### üèóÔ∏è Melhorias T√©cnicas (Refactor/Perf)
* **[Banco de Dados]** Nova arquitetura criada com as tabelas `document_categories`, `document_types` e `certificates`.
* **[API]** Implementa√ß√£o do padr√£o *Unified DTO* na rota `GET /documents/`, permitindo que o frontend receba uma lista mesclada de documentos legados e certificados novos em uma √∫nica chamada (< 200ms de tempo de resposta).
* **[Frontend]** Elimina√ß√£o definitiva do arquivo `documentCategorizer.ts` (Fim da d√≠vida t√©cnica). Documentos legados agora s√£o agrupados nativamente em "Outros Documentos".
* **[Testes]** Cobertura de testes de integra√ß√£o e unidade aplicados nas rotas de upload e listagem unificada (`test_documents_sprint17.py`).

---

## üîß Detalhes T√©cnicos Cr√≠ticos (Para Devs)
*Se um dev baixar essa vers√£o agora, o que ele precisa saber e executar?*

* **Banco de Dados (Migrations):** Foram adicionadas novas tabelas e uma coluna de compatibilidade. √â OBRIGAT√ìRIO rodar:
  ```bash
  alembic upgrade head