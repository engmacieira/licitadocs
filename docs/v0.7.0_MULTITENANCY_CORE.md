# üì¶ Vers√£o v0.7.0: Multi-Tenancy Core

**Data:** 30/01/2026
**Tipo:** Feature Release / Architecture Refactor
**Foco:** Seguran√ßa e Isolamento de Dados

## üîß Altera√ß√µes T√©cnicas Principais

### 1. Modelagem de Dados (User & Company)
* **Nova Coluna:** `users.company_id` (ForeignKey -> `companies.id`).
* **Relacionamento:** Implementado padr√£o N:1 (V√°rios usu√°rios pertencem a uma empresa).
* **Seguran√ßa:** O campo √© populado automaticamente no Registro ou via Script de Admin.

### 2. API & Seguran√ßa
* **Filtro Global:** Os reposit√≥rios de leitura (`get_all`, `get_by_id`) agora exigem o argumento `company_id`.
* **Router:** Os endpoints extraem o `company_id` do Token JWT (`current_user`) e injetam no reposit√≥rio.

### 3. Frontend Service Layer
* **Centraliza√ß√£o:** Criada inst√¢ncia √∫nica do Axios em `services/api.ts`.
* **Environment:** Suporte a vari√°vel de ambiente `VITE_API_URL` (com fallback para localhost).
* **Corre√ß√µes:** Login migrado para `application/x-www-form-urlencoded`.

## ‚ö†Ô∏è Instru√ß√µes de Atualiza√ß√£o (Deploy)
1.  Como houve altera√ß√£o estrutural no banco SQLite, √© necess√°rio **recriar o banco de dados** (deletar `licita_doc.db`) ou rodar script de migra√ß√£o manual.
2.  Executar `python -m app.scripts.create_first_admin` para gerar o superusu√°rio corretamente vinculado.